
# Memory

### หน่วยความจำ (Memory)
เป็นสถานที่/ตำแหน่งที่ทำหน้าที่พักข้อมูล (ตัวเลข) ในระบบคอมพิวเตอร์ ซึ่งมีบทบาทสำคัญอย่างมาก เพื่อใช้เป็นตัวกลางในการพักข้อมูลรอการประมวลผลของคอมพิวเตอร์ โดยหน่วยความจำ แบ่งออกเป็น 2 ประเภทหลัก ๆ คือ
#### (1) หน่วยความจำแบบถาวร (Non-Volatile Memory)
   * เป็นรูปแบบของหน่วยความจำที่สามารถจัดเก็บข้อมูลได้ โดยไม่ต้องอาศัยกระแสไฟฟ้า ตัวอย่างของหน่วยความจำแบบถาวร
   * เช่น หน่วยความจำแบบอ่านเท่านั้น (Read Only Memory; ROM)
#### (2) หน่วยความจำแบบชั่วคราว (Volatile Memory)
   * เป็นหน่วยความจำที่ต้องอาศัยกระแสไฟฟ้าเลี้ยง เพื่อเก็บข้อมูลภายในหน่วยความจำ ตัวอย่างของหน่วยความจำแบบชั่วคราว
   * เช่น หน่วยความจำเข้าถึงแบบสุ่ม (Random Access Memory; RAM)

> **_NOTE:_**  ยังมีหน่วยความจำประเภทอื่น ๆ ที่น่าสนใจ ได้แก่ หน่วยความจำแคช (Cache Memory) และหน่วยความจำเสมือน (Virtual Memory)

#### (3) หน่วยความจำแคช (Cache Memory)
* เป็นหน่วยความจำที่มีความเร็วในการเข้าถึงข้อมูลสูงกว่าหน่วยความจำแบบทั่วไป ซึ่งช่วยให้หน่วยประมวลผลสามารถดึงคำสั่งไปทำงานได้เร็วมากขึ้น 
* โดยหน่วยความจำแคช เป็นหน่วยความจำที่เป็นตัวกลางระหว่าง หน่วยประมวลผล (CPU) และหน่วยความจำหลัก (Main Memory) ซึ่งจัดเก็บคำสั่งต่าง ๆ ที่ หน่วยประมวลผลมีการเรียกใช้งานบ่อย
* จึงทำให้หน่วยประมวลผลสามารถดึงรหัสคำสั่งที่มีการใช้งานบ่อยได้รวดเร็วมากขึ้น

> **_NOTE:_**  เราเรียกหน่วยความจำทั้ง 3 ประเภทข้างต้นว่า  หน่วยความจำหลัก (Main Memory) และเรียกสื่อต่าง ๆ ที่เป็นสื่อเพิ่มเติมจากหน่วยความจำหลักว่า หน่วยความจำภายนอก (External Memory)

#### หน่วยความจำภายนอก
* หน่วยความจำภายนอกนั้นเป็นหน่วยความจำสนับสนุนเพื่อเพิ่มความสามารถในการจัดเก็บข้อมูลของหน่วยความจำหลัก ซึ่งมีต้นทุนของอุปกรณ์ที่ถูกกว่าหน่วยความจำหลักทั้ง 3 ประเภทแรก
* โดยปกติแล้วหน่วยความภายนอกเป็นหน่วยความจำแบบถาวร (Non-Volatile) ซึ่งใช้สำหรับจัดเก็บข้อมูลสำหรับข้อมูลที่ต้องการเรียกใช้ในบางเวลาเท่านั้น

### หน่วยความจำเสมือน (Virtual Memory)
* คือหน่วยความจำที่ได้รับการจัดสรรจากหน่วยความจำทางกายภาพจากระบบปฏิบัติการเพื่อสร้างหรือจำลองหน่วยความจำเสมือนขึ้น เพรานเนื่องจากการใช้งานในสภาพแวดล้อมจริง ลำพังเพียงหน่วยความจำหลัก (Main Memory) อาจมีความสามารถในการรองรับที่ไม่เพียงพอต่อการทำงานของคอมพิวเตอร์ได้ เราจึงมีความจำเป็นต้องพึ่งพาหน่วยความจำภายนอก ที่ทำหน้าที่เป็น “หน่วยความจำเสมือน” เพิ่มเติมด้วย ซึ่งข้อมูลที่ถูกอ่านเขียนบนหน่วยความจำเสมือนนี้มีการจัดการโดยใช้เทคนิคต่างกันไป โดยเทคนิคการทำการจัดการข้อมูลสำหรับการทำ Virtual Memory โดยทั่วไปนั้นมีเทคนิค “Swapping” และเทคนิค “Paging” 

## คำสั่งที่เกี่ยวข้อง
#### (1) cat /proc/meminfo
```
$ cat /proc/meminfo
```
```
MemTotal:				2011236 kB
MemFree:				1531224 kB
MemAvailable:			1666596 kB
Buffers:				15928 	kB
Cached:					245224 	kB
SwapCached:				0 		kB
Active:					84508 	kB
Inactive:				230628 	kB
Active (anon):			1020 	kB
Inactive (anon):		60416 	kB
Active(file):			83488 	kB
Inactive(file):			170212 	kB
Unevictable:			27760 	kB
...
DirectMap4K:			69568	kB
DirectMap2M:			2027520	kB
```
> **_NOTE:_** อาจใช้คำสั่งเพื่อการแสดงผล หรือเพื่อการค้นหาที่เกี่ยวข้องเพิ่มเติม เพื่อช่วยกรองข้อมูลที่ต้องการ

| Command | Description |
| :----: | ----------- |
| cat /proc/meminfo \| more | คำสั่งอ่านข้อมูลโดยแสดงทีละหน้า |
| cat /proc/meminfo \| grep "topic" | คำสั่งหา topic ที่ต้องการ |
---
#### (2) free
คำสั่งแสดงข้อมูลการใช้งานของหน่วยความจำ และปริมาณคงเหลือ
คำสั่ง
```
$ free
```
ผลลัพธ์
```
	total		used		free		shared		buff/cache	available
Mem:	2011236		190156		1531000		1080		290080		1669380
Swap:	1531224		1383396		0		1383396
```
---
#### (3) top
คำสั่งแสดงรายการ การใช้งานหน่วยความจำ ณ ปัจจุบัน
```
$ top
```
![image](https://github.com/aaomprt/Host-3/assets/117189340/fe8886de-a45f-4b38-af03-d6f382b18bfd)
